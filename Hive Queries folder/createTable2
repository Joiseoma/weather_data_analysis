CREATE EXTERNAL TABLE StormEvents_details 
(BEGIN_YEARMONTH INT NOT NULL, 
BEGIN_DAY INT NOT NULL, 
BEGIN_TIME INT NOT NULL, 
END_YEARMONTH INT NOT NULL, 
END_DAY INT NOT NULL, 
END_TIME INT NOT NULL, 
EPISODE_ID INT NOT NULL, 
EVENT_ID INT NOT NULL, 
STATE VARCHAR(255) NOT NULL, 
STATE_FIPS INT NOT NULL, 
YEAR INT NOT NULL, 
MONTH_NAME VARCHAR(255) NOT NULL, 
EVENT_TYPE VARCHAR(255) NOT NULL, 
CZ_TYPE VARCHAR(255) NOT NULL, 
CZ_FIPS INT NOT NULL, 
CZ_NAME VARCHAR(255) NOT NULL, 
WFO VARCHAR(255) NOT NULL, 
BEGIN_DATE_TIME VARCHAR(255) NOT NULL, 
INJURIES_DIRECT INT NOT NULL, 
INJURIES_INDIRECT INT NOT NULL, 
DEATHS_DIRECT INT NOT NULL, 
DEATHS_INDIRECT INT NOT NULL, 
DAMAGE_PROPERTY VARCHAR(255) NOT NULL, 
DAMAGE_CROPS INT NOT NULL, 
SOURCE VARCHAR(255) NOT NULL, 
MAGNITUDE VARCHAR(255) NOT NULL, 
MAGNITUDE_TYPE VARCHAR(255) NOT NULL, 
FLOOD_CAUSE VARCHAR(255) NOT NULL, 
CATEGORY VARCHAR(255) NOT NULL, 
TOR_F_SCALE VARCHAR(255) NOT NULL, 
TOR_LENGTH DOUBLE, 
TOR_WIDTH DOUBLE, 
TOR_OTHER_WFO VARCHAR(255) NOT NULL, 
TOR_OTHER_CZ_STATE VARCHAR(255) NOT NULL, 
TOR_OTHER_FIPS VARCHAR(255) NOT NULL, 
TOR_OTHER_CZ_NAME VARCHAR(255) NOT NULL, 
BEGIN_RANGE INT NOT NULL, 
BEGIN_AZIMUTH VARCHAR(255) NOT NULL, 
BEGIN_LOCATION VARCHAR(255) NOT NULL,
END_RANGE INT NOT NULL,
END_AZIMUTH INT NOT NULL,
END_LOCATION INT NOT NULL,
BEGIN_LAT DOUBLE,
BEGIN_LON DOUBLE,
END_LAT DOUBLE,
END_LON DOUBLE,
EPISODE_NARRATIVE VARCHAR(255) NOT NULL,
EVENT_NARRATIVE VARCHAR(255) NOT NULL,
DATA_SOURCE VARCHAR(255) NOT NULL)
ROW FORMAT DELIMITED FIELDS TERMINATED BY ',' LOCATION 'gs://noaa_weather_data/NOAA_Strom_DataSet/StormEvents_details/StormEvents_Details/' tblproperties ("skip.header.line.count"="1");

CREATE EXTERNAL TABLE StormEvents_fatalites 
(FAT_YEARMONTH INT, 
FAT_DAY INT, 
FAT_TIME INT, 
FATALITY_ID INT, 
EVENT_ID INT, 
FATALITY_TYPE STRING, 
FATALITY_DATE STRING, 
FATALITY_AGE INT, 
FATALITY_SEX STRING, 
FATALITY_LOCATION STRING, 
EVENT_YEARMONTH INT) 
ROW FORMAT DELIMITED FIELDS TERMINATED BY ',' LOCATION 'gs://noaa_weather_data/NOAA_Strom_DataSet/StormEvents_details/StormsEvents_Fatality/' tblproperties ("skip.header.line.count"="1");

CREATE EXTERNAL TABLE StormEvents_locations
(YEARMONTH INT, 
EPISODE_ID INT, 
EVENT_ID INT, 
LOCATION_INDEX INT, 
`RANGE` INT, 
AZIMUTH STRING, 
LOCATION STRING, 
LATITUDE DOUBLE, 
LONGITUDE DOUBLE, 
LAT2 DOUBLE, 
LON2 DOUBLE) 
ROW FORMAT DELIMITED FIELDS TERMINATED BY ',' LOCATION 'gs://noaa_weather_data/NOAA_Strom_DataSet/StormEvents_details/StormsEvents_location/' tblproperties ("skip.header.line.count"="1");

CREATE EXTERNAL TABLE WeatherEvents_details 
(ZTIME INT, 
LON DOUBLE, 
LAT DOUBLE, 
`EVENT` STRING, 
MAGNITUDE INT, 
CITY STRING, 
COUNTY STRING, 
STATE STRING, 
SOURCE STRING, 
WFO STRING, 
`REMARKS` STRING) 
ROW FORMAT DELIMITED FIELDS TERMINATED BY ',' LOCATION 'gs://noaa_weather_data/NOAA_Strom_DataSet/WeatherEvents_details/' tblproperties ("skip.header.line.count"="1");




CREATE EXTERNAL TABLE WeatherWarnings 
(ISSUEDATE STRING, 
EXPIREDATE STRING, 
ISSUEWFO STRING, 
MESSAGEID INT, 
MESSAGETYPE STRING, 
WARNINGTYPE STRING, 
POLYGON STRING) 
ROW FORMAT DELIMITED FIELDS TERMINATED BY ',' LOCATION 'gs://noaa_weather_data/NOAA_Strom_DataSet/WeatherWarnings/' tblproperties ("skip.header.line.count"="1");

CREATE EXTERNAL TABLE Structure 
(ZTIME INT, 
LON DOUBLE, 
LAT DOUBLE, 
WSR_ID STRING, 
CELL_ID STRING, 
`RANGE` INT, 
AZIMUTH INT, 
BASE_HEIGHT DOUBLE, 
TOP_HEIGHT DOUBLE, 
VIL INT, 
MAX_REFLECT INT, 
HEIGHT DOUBLE)
ROW FORMAT DELIMITED FIELDS TERMINATED BY ',' LOCATION 'gs://noaa_weather_data/NOAA_Strom_DataSet/WeatherStructure/' tblproperties ("skip.header.line.count"="1");

CREATE EXTERNAL TABLE lightningStrikes 
(ZDAY INT, CENTERLON DOUBLE, CENTERLAT DOUBLE, TOTAL_COUNT INT) 
ROW FORMAT DELIMITED FIELDS TERMINATED BY ',' LOCATION 'gs://noaa_weather_data/NOAA_Strom_DataSet/lightingstrike/' tblproperties ("skip.header.line.count"="1");
